# ALM-12004 OLdap Resource Is Abnormal<a name="EN-US_TOPIC_0125375311"></a>

## Description<a name="sb4bb5a9a8de24dd68ccf6b1bfade6593"></a>

This alarm is generated when the Ldap resource in Manager is abnormal and is cleared after the Ldap resource in Manager recovers and the alarm handling is complete.

## Attribute<a name="s68ab2dab577b417a966b9a306071dc02"></a>

<a name="tedf017a831c14176b0b13f6b450f9dc5"></a>
<table><thead align="left"><tr id="ra1f7ed132eb145e7859f5f3024bf184a"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.1"><p id="ab212981244a74c54a8a03043793b920c"><a name="ab212981244a74c54a8a03043793b920c"></a><a name="ab212981244a74c54a8a03043793b920c"></a><strong id="a4c744705426c40818e5214db6b3157ba"><a name="a4c744705426c40818e5214db6b3157ba"></a><a name="a4c744705426c40818e5214db6b3157ba"></a>Alarm ID</strong></p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.2"><p id="a61889927a71842a09ffad3ef7441e962"><a name="a61889927a71842a09ffad3ef7441e962"></a><a name="a61889927a71842a09ffad3ef7441e962"></a><strong id="a3c7caf0dfd564c04bc6e80b276fec492"><a name="a3c7caf0dfd564c04bc6e80b276fec492"></a><a name="a3c7caf0dfd564c04bc6e80b276fec492"></a>Alarm Severity</strong></p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.3"><p id="adfb8fc54b7274c4c81f07b6de396a7c4"><a name="adfb8fc54b7274c4c81f07b6de396a7c4"></a><a name="adfb8fc54b7274c4c81f07b6de396a7c4"></a><strong id="ab59448c2642f4bd28997ed02a2d35fd5"><a name="ab59448c2642f4bd28997ed02a2d35fd5"></a><a name="ab59448c2642f4bd28997ed02a2d35fd5"></a>Automatically Cleared</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="re7324a05f49f4fb88c0d09fb98132a1c"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.1 "><p id="aeaaaf2878a834be995e92daad46b58f1"><a name="aeaaaf2878a834be995e92daad46b58f1"></a><a name="aeaaaf2878a834be995e92daad46b58f1"></a>12004</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.2 "><p id="a10ea47be45104d8ba5b5dcc99e877a13"><a name="a10ea47be45104d8ba5b5dcc99e877a13"></a><a name="a10ea47be45104d8ba5b5dcc99e877a13"></a>Major</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.3 "><p id="a99ca514eb60243b8b1ff625e3ed957b0"><a name="a99ca514eb60243b8b1ff625e3ed957b0"></a><a name="a99ca514eb60243b8b1ff625e3ed957b0"></a>Yes</p>
</td>
</tr>
</tbody>
</table>

## Parameters<a name="s84008c9e124e491b93569cf5cedc69a3"></a>

<a name="t08b4b403a908485ab2f848ea99584e25"></a>
<table><thead align="left"><tr id="rf9a933e0abc246bbaf7d847062298042"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="a98a67939523e49edb8af14d086bfe339"><a name="a98a67939523e49edb8af14d086bfe339"></a><a name="a98a67939523e49edb8af14d086bfe339"></a><strong id="ac4de4f90f76545789f2566c296ff8cc2"><a name="ac4de4f90f76545789f2566c296ff8cc2"></a><a name="ac4de4f90f76545789f2566c296ff8cc2"></a>Parameter</strong></p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="a24ece4bfd333415b98ae22678cde2905"><a name="a24ece4bfd333415b98ae22678cde2905"></a><a name="a24ece4bfd333415b98ae22678cde2905"></a><strong id="en-us_topic_0035461334_b523364411565"><a name="en-us_topic_0035461334_b523364411565"></a><a name="en-us_topic_0035461334_b523364411565"></a>Description</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="rb4a5a41a057149aa926e38a06c8e6cef"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="ac36ae93226a74c5da7228eee3680e94f"><a name="ac36ae93226a74c5da7228eee3680e94f"></a><a name="ac36ae93226a74c5da7228eee3680e94f"></a>ServiceName</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="en-us_topic_0035461334_p636410111565"><a name="en-us_topic_0035461334_p636410111565"></a><a name="en-us_topic_0035461334_p636410111565"></a>Specifies the service for which the alarm is generated.</p>
</td>
</tr>
<tr id="r6ce331eac50f476292e97623bdac65fc"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="af58bf93c5310465faf0a0a788476b57d"><a name="af58bf93c5310465faf0a0a788476b57d"></a><a name="af58bf93c5310465faf0a0a788476b57d"></a>RoleName</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="aabf1b00efaca457993faecfb4d1213c3"><a name="aabf1b00efaca457993faecfb4d1213c3"></a><a name="aabf1b00efaca457993faecfb4d1213c3"></a>Specifies the role for which the alarm is generated.</p>
</td>
</tr>
<tr id="r2e5ba84bb50949878bace1549606d411"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="aed20865f19d94e2999c6338b14f28c8f"><a name="aed20865f19d94e2999c6338b14f28c8f"></a><a name="aed20865f19d94e2999c6338b14f28c8f"></a>HostName</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="a36238969093740fe91789ed59412fd48"><a name="a36238969093740fe91789ed59412fd48"></a><a name="a36238969093740fe91789ed59412fd48"></a>Specifies the host for which the alarm is generated.</p>
</td>
</tr>
</tbody>
</table>

## Impact on the System<a name="sf9c659d513fd4b4ab552d4601b2f4e49"></a>

The OLdap resources are abnormal and the Manager authentication service is unavailable. As a result, security authentication and user management functions cannot be provided for upper-layer web services. Users may be unable to log in to Manager.

## Possible Causes<a name="seadcc10b5ab948c1a10621d3d96e50d8"></a>

The LdapServer process in Manager is abnormal.

## Procedure<a name="s0ba2485f09434e6cbfd55a4d6c466a12"></a>

1.  Check whether the LdapServer process in Manager is in the normal state.
    1.  Log in to the active management node.
    2.  Run  **ps -ef | grep slapd** to check whether the LdapServer resource process in the **$\{BIGDATA\_HOME\}/om-0.0.1/**  directory of the configuration file is running properly.

        You can determine that the resource is normal by checking the following information:

        1.  Run  **sh $\{BIGDATA\_HOME\}/om-0.0.1/sbin/status-oms.sh**. You can view that **ResHAStatus** of the OLdap process is **Normal**.
        2.  Run  **ps -ef | grep slapd**. You can view the slapd process occupying port 21750.

        -   If yes, go to  [2](#l23471ef7485b4039a75a2cee918e1bde).
        -   If no, go to  [3](#l29f60ecc1cf94d70b547c572093b5d63).

2.  <a name="l23471ef7485b4039a75a2cee918e1bde"></a>Run  _**kill -2**_ _PID of LdapServer process_  and wait 20 seconds. The HA starts the OLdap process automatically. Check whether the status of the OLdap resource is in the normal state.
    -   If yes, no further action is required.
    -   If no, go to  [3](#l29f60ecc1cf94d70b547c572093b5d63).

3.  <a name="l29f60ecc1cf94d70b547c572093b5d63"></a>Collect fault information.
    1.  On MRS Manager, choose  **System**  \>  **Export Log**.
    2.  Contact technical support engineers for help, detail see  [technical support](https://docs.otc.t-systems.com/en-us/public/learnmore.html).


## Related Information<a name="s36e9eb7eb0d74391bc87972ee4ccbf0d"></a>

N/A

