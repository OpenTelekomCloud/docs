# ALM-24001 Flume Agent Is Abnormal<a name="EN-US_TOPIC_0125375757"></a>

## Description<a name="s1e49773c61e64a808f251ed3da09a685"></a>

This alarm is generated when the Flume agent monitoring module detects that the Flume agent process is abnormal.

This alarm is cleared when the Flume agent process recovers.

## Attribute<a name="s4ac6f782fcdb460b93c8c177e18c3407"></a>

<a name="t1fb73eb50bd1409d84bca93a294f9f2c"></a>
<table><thead align="left"><tr id="r7f6f58d9968a439f9286ea81b2c312b2"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.1"><p id="af73cb151b99f45f1a2ec96c38e7acaea"><a name="af73cb151b99f45f1a2ec96c38e7acaea"></a><a name="af73cb151b99f45f1a2ec96c38e7acaea"></a><strong id="a98c81b55377d45b59f538c2aee3bb6c3"><a name="a98c81b55377d45b59f538c2aee3bb6c3"></a><a name="a98c81b55377d45b59f538c2aee3bb6c3"></a>Alarm ID</strong></p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.2"><p id="a493cb5fdc91044cdb5d3995609d38061"><a name="a493cb5fdc91044cdb5d3995609d38061"></a><a name="a493cb5fdc91044cdb5d3995609d38061"></a><strong id="ac5971aa3fcbf4f7385bbea7e676fe120"><a name="ac5971aa3fcbf4f7385bbea7e676fe120"></a><a name="ac5971aa3fcbf4f7385bbea7e676fe120"></a>Alarm Severity</strong></p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.1.4.1.3"><p id="ae7d0747409034215bea687914c56b2f8"><a name="ae7d0747409034215bea687914c56b2f8"></a><a name="ae7d0747409034215bea687914c56b2f8"></a><strong id="a6604b5464b71455484917755ef167c0a"><a name="a6604b5464b71455484917755ef167c0a"></a><a name="a6604b5464b71455484917755ef167c0a"></a>Automatically Cleared</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="r2b7be4132a144b69970cd8af853365e2"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.1 "><p id="a5b79eba6ab4445a6a3d42b269dba2687"><a name="a5b79eba6ab4445a6a3d42b269dba2687"></a><a name="a5b79eba6ab4445a6a3d42b269dba2687"></a>24001</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.2 "><p id="ad3b7a607e572404d879a92380b8f719c"><a name="ad3b7a607e572404d879a92380b8f719c"></a><a name="ad3b7a607e572404d879a92380b8f719c"></a>Minor</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.1.4.1.3 "><p id="abc241900d0eb467082f9af945904af19"><a name="abc241900d0eb467082f9af945904af19"></a><a name="abc241900d0eb467082f9af945904af19"></a>Yes</p>
</td>
</tr>
</tbody>
</table>

## Parameters<a name="s3a71e86087aa4fe7953438e378dbc96b"></a>

<a name="t88131d7ce2394d41b7aac4c065834981"></a>
<table><thead align="left"><tr id="ra35c5ce00cac417baae1bcbc92ffb168"><th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.1"><p id="a2fad63305f2b4a919a188c22a07e917f"><a name="a2fad63305f2b4a919a188c22a07e917f"></a><a name="a2fad63305f2b4a919a188c22a07e917f"></a><strong id="a3226de5a4d2f4e16851236f51484a5d3"><a name="a3226de5a4d2f4e16851236f51484a5d3"></a><a name="a3226de5a4d2f4e16851236f51484a5d3"></a>Parameter</strong></p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.1.3.1.2"><p id="ad2ebaa3ec1984e8ca8560aa4fc1b11b5"><a name="ad2ebaa3ec1984e8ca8560aa4fc1b11b5"></a><a name="ad2ebaa3ec1984e8ca8560aa4fc1b11b5"></a><strong id="a5693f35b55034bc4afebab13454f24da"><a name="a5693f35b55034bc4afebab13454f24da"></a><a name="a5693f35b55034bc4afebab13454f24da"></a>Description</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="rc789f5282ade450298a6e7d8bc165371"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="ab421482ede0a41dd837e6991830a8d44"><a name="ab421482ede0a41dd837e6991830a8d44"></a><a name="ab421482ede0a41dd837e6991830a8d44"></a>ServiceName</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="ab585450601c14c4ba677b4fa83d65ca2"><a name="ab585450601c14c4ba677b4fa83d65ca2"></a><a name="ab585450601c14c4ba677b4fa83d65ca2"></a>Specifies the service for which the alarm is generated.</p>
</td>
</tr>
<tr id="raef06a05866546bca9135ebd29e1a6f0"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="aa42e1efe65d2487d9178c06e2cc07458"><a name="aa42e1efe65d2487d9178c06e2cc07458"></a><a name="aa42e1efe65d2487d9178c06e2cc07458"></a>RoleName</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="aaf66ef8732bd46b4a07578046b99d390"><a name="aaf66ef8732bd46b4a07578046b99d390"></a><a name="aaf66ef8732bd46b4a07578046b99d390"></a>Specifies the role for which the alarm is generated.</p>
</td>
</tr>
<tr id="rcadaf4b99cb44de1b99049f6ddc92740"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.1 "><p id="aefbf2de81cdb4e31b3542852cb78a161"><a name="aefbf2de81cdb4e31b3542852cb78a161"></a><a name="aefbf2de81cdb4e31b3542852cb78a161"></a>HostName</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.1.3.1.2 "><p id="acee7470bf674471d9691e130e2f883db"><a name="acee7470bf674471d9691e130e2f883db"></a><a name="acee7470bf674471d9691e130e2f883db"></a>Specifies the host for which the alarm is generated.</p>
</td>
</tr>
</tbody>
</table>

## Impact on the System<a name="sec5cdb429ad64db5ae01519f5e2b0e40"></a>

Functions of the alarmed Flume agent instance are abnormal. Data transmission tasks of the instance are suspended. In real-time data transmission, data will be lost.

## Possible Causes<a name="s7cf692951fea45bda38aea227195c660"></a>

-   The  **JAVA\_HOME**  directory does not exist or the Java permission is incorrect.
-   The permission of the Flume agent directory is incorrect.

## Procedure<a name="s6cccc2754dfe475cae0ce5f5b67a02f7"></a>

1.  Check the Flume agent's configuration file.
    1.  Log in to the host where the faulty node resides. Run the following command to switch to user  **root**:

        **sudo su - root**

    2.  Run the  **cd** _Flume installation directory_**/fusioninsight-flume-1.6.0/conf/**  command to go to Flume's configuration directory.
    3.  Run the  **cat ENV\_VARS** command. Check whether the **JAVA\_HOME**  directory exists and whether the Flume agent user has execute permission of Java.
        -   If yes, go to  [2.a](#l4ff4f7d78b3546b7b22dcbf0a70372c3).
        -   If no, go to  [1.d](#le85a81eabaf44c0ca171ca70d8b10e0e).

    4.  <a name="le85a81eabaf44c0ca171ca70d8b10e0e"></a>Specify the correct JAVA\_HOME directory and grant the Flume agent user with the execute permission of Java. Then go to  [2.d](#l158cdb3b6a6946ffad602fc2e4da0d79).

2.  Check the permission of the Flume agent directory.
    1.  <a name="l4ff4f7d78b3546b7b22dcbf0a70372c3"></a>Log in to the host where the faulty node resides. Run the following command to switch to user  **root**:

        **sudo su - root**

    2.  Run the following command to access the installation directory of the Flume agent:

        **cd** _Flume agent installation directory_

    3.  Run the  **ls -al \* -R**  command. Check whether the owner of all files is the Flume agent user.
        -   If yes, go to  [3.a](#l55bc02e8a8bf4b94b995e0e32782214a).
        -   If no, run the  **chown** command and change the owner of the files to the Flume agent user. Then go to [2.d](#l158cdb3b6a6946ffad602fc2e4da0d79).

    4.  <a name="l158cdb3b6a6946ffad602fc2e4da0d79"></a>Check whether the alarm is cleared.
        -   If yes, no further action is required.
        -   If no, go to  [3.a](#l55bc02e8a8bf4b94b995e0e32782214a).

3.  Collect fault information.
    1.  <a name="l55bc02e8a8bf4b94b995e0e32782214a"></a>On MRS Manager, choose  **System**  \>  **Export Log**.
    2.  Contact technical support engineers for help, detail see  [technical support](https://docs.otc.t-systems.com/en-us/public/learnmore.html).


## Related Information<a name="s4a554ca579274684b770ea54947067ff"></a>

N/A

